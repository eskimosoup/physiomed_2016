<div class="hero-section body-part-background">
  <h1 class="hero-section-title">
    <%= @body_part_facade.name %>
  </h1>

  <!--
    <h2 class="hero-section-subtitle">
      Health and Well-Being Zone
    </h2>
  -->

  <div class="hero-section-primary-content">
    <div class="body-part-navigation-wrap">
      <div class="body-part-navigation">
        <ul class="body-part-navigation-links">
          <li class="body-part-navigation-top-level">
            <%= link_to @body_part_facade.name, @body_part, class: 'current-body-part' %>

            <ul class="body-part-navigation-links-dropdown">
              <li>
                <% # TODO: List body parts %>
                <%#= link_to 'Lower Back', '#', class: 'body-part-link' %>
              </li>
            </ul>
          </li>
        </ul>

        <ul class="body-part-section-navigation-links">
          <% # TODO: Link to page sections %>
          <li>
            <%#= link_to 'Feeling Fab', '#' %>
          </li>
          <li>
            <%#= link_to 'Guides', '#' %>
          </li>
          <li>
            <%#= link_to "Know your #{@body_part_facade.name.downcase}", '#' %>
          </li>
        </ul>
      </div>
    </div>

    <div class="body-part-summary-wrap">
      <div class="body-part-summary">
        <%= raw @body_part_facade.summary %>
      </div>
    </div>

    <div class="body-part-contact-methods-wrap">
      <div class="body-part-contact-methods">
        <h4>
          Talk to our clinical team
        </h4>

        <ul class="body-part-contact-method-links">
          <li>
            <%= link_to 'Call us', '#', class: 'contact-method call-us' %>
          </li>
          <li>
            <%= link_to 'Request a callback', '#', class: 'contact-method callback' %>
          </li>
          <li>
            <%= link_to 'Email us', '#', class: 'contact-method email' %>
          </li>
          <li>
            <%= link_to 'Find a Physio', '#', class: 'contact-method find-a-physio' %>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="content">

    <% if @body_part_facade.body_part_sections.any? %>
      <%= content_for :javascript do %>
        <%= javascript_include_tag "components/body_part_sections" %>
      <% end %>
    <% end %>
      <section class="box-wrap">
        <div class="body-part-sections-container">
          <ul id="tabs">
            <% @body_part_facade.body_part_sections.each_with_index do |body_part_section, i| %>
              <%= content_tag :li, class: (i.zero? ? "current" : nil) do %>
                <%= link_to body_part_section.title, "#body-part-section-#{ body_part_section.id }" %>
              <% end %>
            <% end %>
            <% if @body_part_facade.guides.any? %>
             <section class="box-wrap">
               <div class="guides-container">
                 <h2>Guides</h2>
                 <div class="guides">
                   <%= render @body_part_facade.guides %>
                 </div>
               </div>
             </section>
            <% end %>
          </ul>

          <div class="body-part-sections">
            <%= render(
              partial: "wellbeing_zone/body_part_sections/body_part_section",
              collection: @body_part_facade.body_part_sections,
              as: :body_part_section
            ) %>
          </div>
        </div>
      </section>

    <% if @body_part_facade.people_helped_section %>
      <%= render(
        partial: "people_helped_sections/people_helped_section",
        object: @body_part_facade.people_helped_section
      ) %>
    <% end %>

    <% if @body_part_facade.video %>
      <div class="video-section">
        <%= render(
          partial: "videos/video",
          object: @body_part_facade.video
        ) %>
      </div>
    <% end %>

    <% # This is the weird rendering culprit fyi %>
    <%= render(
      "wellbeing_zone/shared/team_member_section.html.erb",
      team_members: @body_part_facade.team_members
    ) %>

    <%= render(
      "wellbeing_zone/shared/case_studies_section",
      case_studies: @body_part_facade.case_studies
    ) %>

    <%= render(
      "wellbeing_zone/shared/articles_section",
      articles: @body_part_facade.articles
    ) %>

    <%= render(
      "wellbeing_zone/shared/faqs_section",
      faqs: @body_part_facade.faqs
    ) %>

    <%= render(
      "wellbeing_zone/shared/testimonials_section",
      testimonials: @body_part_facade.testimonials
    ) %>
  </div>
</div>
